<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">跳过组件子树</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/best-practices/runtime-performance/skipping-subtrees.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>默认情况下，JavaScript 使用可变数据结构，你可以从多个不同的组件中引用它们。Angular 会在你的整个组件树上运行变更检测，以确保你的数据结构的最新的状态反映在 DOM 中。</p>
<p>对于大多数应用来说，变更检测已经足够快了。然而，当应用具有特别大的组件树时，在整个应用上运行变更检测可能会导致性能问题。你可以通过配置变更检测仅在组件树的子集上运行来解决此问题。</p>
<p>如果你确信应用的某一部分不受状态更改的影响，则可以使用 <a href="/api/core/ChangeDetectionStrategy">OnPush</a> 来跳过整个组件子树中的变更检测。</p>

  <h2 id="using-onpush">
    <a href="#using-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to Using <code>OnPush</code>">使用 <code>OnPush</code></a>
  </h2>
  <p>OnPush 变更检测指示 Angular <strong>仅在以下情况</strong>为组件子树运行变更检测：</p>

  <ul class="docs-list">
    <li>子树的根组件接收到作为模板绑定结果的新输入。Angular 使用 <code>==</code> 比较输入的当前值和过去的值。</li>
<li>无论子树的根组件或其任何子组件是否使用 OnPush 变更检测，Angular 都会处理它们中的事件<em>（例如，使用事件绑定、输出绑定或 <code>@HostListener</code>）</em>。</li>

  </ul>
  <p>你可以在 <code>@Component</code> 装饰器中将组件的变更检测策略设置为 <code>OnPush</code>：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#E1E4E8"> { ChangeDetectionStrategy, Component } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#D73A49;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#D73A49;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  changeDetection: ChangeDetectionStrategy.OnPush,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
    </pre>
  </div>
  <h2 id="common-change-detection-scenarios">
    <a href="#common-change-detection-scenarios" class="docs-anchor" tabindex="-1" aria-label="Link to Common change detection scenarios">常见的变更检测场景</a>
  </h2>
  <p>本节检查几个常见的变更检测场景，以阐明 Angular 的行为。</p>

  <h3 id="an-event-is-handled-by-a-component-with-default-change-detection">
    <a href="#an-event-is-handled-by-a-component-with-default-change-detection" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a component with default change detection">事件由具有默认变更检测的组件处理</a>
  </h3>
  <p>如果 Angular 在没有 <code>OnPush</code> 策略的组件中处理事件，则该框架会在整个组件树上执行变更检测。Angular 将跳过根组件使用 <code>OnPush</code> 且未接收到新输入的后代组件子树。</p>
<p>例如，如果我们将 <code>MainComponent</code> 的变更检测策略设置为 <code>OnPush</code>，并且用户与根为 <code>MainComponent</code> 的子树之外的组件进行交互，除非 <code>MainComponent</code> 接收到新的输入，否则 Angular 将检查下图中的所有粉红色组件（<code>AppComponent</code>、<code>HeaderComponent</code>、<code>SearchComponent</code>、<code>ButtonComponent</code>）：</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1048.703125 326" style="max-width: 1048.703125px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_header_0" d="M497.969,51.877L529.908,57.73C561.846,63.584,625.724,75.292,657.663,87.313C689.602,99.333,689.602,111.667,689.602,117.833L689.602,124"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_main_0" d="M327.164,62L315.015,66.167C302.866,70.333,278.568,78.667,266.419,87C254.27,95.333,254.27,103.667,254.27,107.833L254.27,112"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_search_0" d="M743.849,178L756.239,184.167C768.628,190.333,793.408,202.667,817.224,215C841.04,227.333,863.892,239.667,875.319,245.833L886.745,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_button_0" d="M685.383,178L684.419,184.167C683.456,190.333,681.529,202.667,680.565,215C679.602,227.333,679.602,239.667,679.602,245.833L679.602,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_login_0" d="M340.856,190L350.106,194.167C359.357,198.333,377.858,206.667,387.109,215C396.359,223.333,396.359,231.667,396.359,235.833L396.359,240"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_details_0" d="M167.684,190L158.433,194.167C149.182,198.333,130.681,206.667,121.43,217C112.18,227.333,112.18,239.667,112.18,245.833L112.18,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_event_search_0" d="M947.273,171L947.19,178.333C947.107,185.667,946.94,200.333,945.893,213.833C944.846,227.333,942.919,239.667,941.956,245.833L940.992,252"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(405.890625, 35)" id="flowchart-app-0" class="node default checkedNode"><rect height="54" width="184.15625" y="-27" x="-92.078125" style="" class="basic label-container"></rect><g transform="translate(-62.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AppComponent</p></span></div></foreignObject></g></g><g transform="translate(689.6015625, 151)" id="flowchart-header-1" class="node default checkedNode"><rect height="54" width="211.15625" y="-27" x="-105.578125" style="" class="basic label-container"></rect><g transform="translate(-75.578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HeaderComponent</p></span></div></foreignObject></g></g><g transform="translate(254.26953125, 151)" id="flowchart-main-3" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MainComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(936.7734375, 279)" id="flowchart-search-5" class="node default checkedNode"><rect height="54" width="207.859375" y="-27" x="-103.9296875" style="" class="basic label-container"></rect><g transform="translate(-73.9296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SearchComponent</p></span></div></foreignObject></g></g><g transform="translate(679.6015625, 279)" id="flowchart-button-7" class="node default checkedNode"><rect height="54" width="206.484375" y="-27" x="-103.2421875" style="" class="basic label-container"></rect><g transform="translate(-73.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ButtonComponent</p></span></div></foreignObject></g></g><g transform="translate(396.359375, 279)" id="flowchart-login-9" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LoginComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(112.1796875, 279)" id="flowchart-details-11" class="node default"><rect height="54" width="208.359375" y="-27" x="-104.1796875" style="" class="basic label-container"></rect><g transform="translate(-74.1796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DetailsComponent</p></span></div></foreignObject></g></g><g transform="translate(946.7734375, 151)" id="flowchart-event-12" class="node default eventNode"><g transform="translate(4.875,0)" class="basic label-container"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-40.171875 -19.5 C-36.893091480152066 -12.942432960304131, -33.61430796030413 -6.384865920608263, -30.421875 0 C-33.935920891960556 7.028091783921111, -37.44996678392111 14.056183567842222, -40.171875 19.5 C-22.348413758698538 19.5, -4.524952517397075 19.5, 30.421875 19.5 C30.421875 6.4097172805830525, 30.421875 -6.680565438833895, 30.421875 -19.5 C3.5014442281168385 -19.5, -23.418986543766323 -19.5, -40.171875 -19.5"></path><path style="" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-40.171875 -19.5 C-36.58069418923083 -12.31763837846167, -32.989513378461666 -5.135276756923339, -30.421875 0 M-40.171875 -19.5 C-36.601937034008074 -12.360124068016141, -33.03199906801614 -5.220248136032282, -30.421875 0 M-30.421875 0 C-33.3479187845658 5.8520875691316006, -36.2739625691316 11.704175138263201, -40.171875 19.5 M-30.421875 0 C-33.28222881366789 5.720707627335786, -36.142582627335784 11.441415254671572, -40.171875 19.5 M-40.171875 19.5 C-12.051064189502501 19.5, 16.069746620994998 19.5, 30.421875 19.5 M-40.171875 19.5 C-18.372245218900865 19.5, 3.42738456219827 19.5, 30.421875 19.5 M30.421875 19.5 C30.421875 4.476741592859234, 30.421875 -10.546516814281532, 30.421875 -19.5 M30.421875 19.5 C30.421875 10.32689531320047, 30.421875 1.1537906264009408, 30.421875 -19.5 M30.421875 -19.5 C3.081040158043578 -19.5, -24.259794683912844 -19.5, -40.171875 -19.5 M30.421875 -19.5 C14.60767311030342 -19.5, -1.2065287793931603 -19.5, -40.171875 -19.5"></path></g><g transform="translate(-18.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="45.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="an-event-is-handled-by-a-component-with-onpush">
    <a href="#an-event-is-handled-by-a-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a component with OnPush">事件由具有 OnPush 的组件处理</a>
  </h2>
  <p>如果 Angular 在具有 OnPush 策略的组件中处理事件，则该框架将在整个组件树内执行变更检测。Angular 将忽略根组件使用 OnPush 的组件子树，这些子树未接收到新输入，并且位于处理事件的组件之外。</p>
<p>例如，如果 Angular 在 <code>MainComponent</code> 中处理事件，则该框架将在整个组件树中运行变更检测。Angular 将忽略根为 <code>LoginComponent</code> 的子树，因为它具有 <code>OnPush</code> 并且事件发生在它的作用域之外。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1048.703125 326" style="max-width: 1048.703125px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_header_0" d="M245.323,62L244.522,66.167C243.721,70.333,242.118,78.667,241.317,89C240.516,99.333,240.516,111.667,240.516,117.833L240.516,124"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_main_0" d="M342.594,52.72L372.282,58.433C401.97,64.147,461.346,75.573,514.986,86.887C568.626,98.201,616.53,109.402,640.482,115.002L664.434,120.603"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_search_0" d="M186.268,178L173.879,184.167C161.489,190.333,136.709,202.667,124.319,215C111.93,227.333,111.93,239.667,111.93,245.833L111.93,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_button_0" d="M294.763,178L307.153,184.167C319.542,190.333,344.322,202.667,356.712,215C369.102,227.333,369.102,239.667,369.102,245.833L369.102,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_login_0" d="M707.848,190L698.597,194.167C689.346,198.333,670.845,206.667,661.594,215C652.344,223.333,652.344,231.667,652.344,235.833L652.344,240"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_details_0" d="M881.02,190L890.27,194.167C899.521,198.333,918.022,206.667,927.273,217C936.523,227.333,936.523,239.667,936.523,245.833L936.523,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_event_main_0" d="M804.934,55L804.85,60.333C804.767,65.667,804.6,76.333,803.866,85.833C803.132,95.333,801.829,103.667,801.178,107.833L800.527,112"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(250.515625, 35)" id="flowchart-app-0" class="node default checkedNode"><rect height="54" width="184.15625" y="-27" x="-92.078125" style="" class="basic label-container"></rect><g transform="translate(-62.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AppComponent</p></span></div></foreignObject></g></g><g transform="translate(240.515625, 151)" id="flowchart-header-1" class="node default checkedNode"><rect height="54" width="211.15625" y="-27" x="-105.578125" style="" class="basic label-container"></rect><g transform="translate(-75.578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HeaderComponent</p></span></div></foreignObject></g></g><g transform="translate(794.43359375, 151)" id="flowchart-main-3" class="node default checkedNode"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MainComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(111.9296875, 279)" id="flowchart-search-5" class="node default checkedNode"><rect height="54" width="207.859375" y="-27" x="-103.9296875" style="" class="basic label-container"></rect><g transform="translate(-73.9296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SearchComponent</p></span></div></foreignObject></g></g><g transform="translate(369.1015625, 279)" id="flowchart-button-7" class="node default checkedNode"><rect height="54" width="206.484375" y="-27" x="-103.2421875" style="" class="basic label-container"></rect><g transform="translate(-73.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ButtonComponent</p></span></div></foreignObject></g></g><g transform="translate(652.34375, 279)" id="flowchart-login-9" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LoginComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(936.5234375, 279)" id="flowchart-details-11" class="node default checkedNode"><rect height="54" width="208.359375" y="-27" x="-104.1796875" style="" class="basic label-container"></rect><g transform="translate(-74.1796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DetailsComponent</p></span></div></foreignObject></g></g><g transform="translate(804.43359375, 35)" id="flowchart-event-12" class="node default eventNode"><g transform="translate(4.875,0)" class="basic label-container"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-40.171875 -19.5 C-38.04979279516972 -15.255835590339446, -35.927710590339444 -11.011671180678892, -30.421875 0 C-33.08688658204015 5.330023164080302, -35.7518981640803 10.660046328160604, -40.171875 19.5 C-14.809259771488016 19.5, 10.553355457023969 19.5, 30.421875 19.5 C30.421875 10.891643851484336, 30.421875 2.2832877029686713, 30.421875 -19.5 C4.7707041631974505 -19.5, -20.8804666736051 -19.5, -40.171875 -19.5"></path><path style="" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-40.171875 -19.5 C-37.226688525260194 -13.609627050520388, -34.28150205052039 -7.719254101040775, -30.421875 0 M-40.171875 -19.5 C-36.85376131320443 -12.863772626408865, -33.53564762640887 -6.22754525281773, -30.421875 0 M-30.421875 0 C-34.30260648685437 7.761462973708749, -38.183337973708745 15.522925947417498, -40.171875 19.5 M-30.421875 0 C-33.043339713678414 5.24292942735683, -35.66480442735683 10.48585885471366, -40.171875 19.5 M-40.171875 19.5 C-13.973678733427054 19.5, 12.224517533145892 19.5, 30.421875 19.5 M-40.171875 19.5 C-20.382979488294804 19.5, -0.5940839765896087 19.5, 30.421875 19.5 M30.421875 19.5 C30.421875 4.4306300220900745, 30.421875 -10.638739955819851, 30.421875 -19.5 M30.421875 19.5 C30.421875 4.6529183852980704, 30.421875 -10.194163229403859, 30.421875 -19.5 M30.421875 -19.5 C2.2578247277620846 -19.5, -25.90622554447583 -19.5, -40.171875 -19.5 M30.421875 -19.5 C2.438771014011998 -19.5, -25.544332971976004 -19.5, -40.171875 -19.5"></path></g><g transform="translate(-18.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="45.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="an-event-is-handled-by-a-descendant-of-a-component-with-onpush">
    <a href="#an-event-is-handled-by-a-descendant-of-a-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a descendant of a component with OnPush">事件由具有 OnPush 的组件的后代处理</a>
  </h2>
  <p>如果 Angular 在具有 OnPush 的组件中处理事件，则该框架将在整个组件树（包括组件的祖先）中执行变更检测。</p>
<p>例如，在下图中，Angular 在使用 OnPush 的 <code>LoginComponent</code> 中处理事件。Angular 将在整个组件子树（包括 <code>MainComponent</code> (<code>LoginComponent</code> 的父组件)）中调用变更检测，即使 <code>MainComponent</code> 也具有 <code>OnPush</code>。Angular 也检查 <code>MainComponent</code>，因为 <code>LoginComponent</code> 是其视图的一部分。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1064.5234375 326" style="max-width: 1064.5234375px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_header_0" d="M432.148,51.877L400.21,57.73C368.271,63.584,304.393,75.292,272.454,87.313C240.516,99.333,240.516,111.667,240.516,117.833L240.516,124"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_main_0" d="M616.305,46.902L668.008,53.585C719.711,60.268,823.117,73.634,874.82,84.484C926.523,95.333,926.523,103.667,926.523,107.833L926.523,112"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_search_0" d="M186.268,178L173.879,184.167C161.489,190.333,136.709,202.667,124.319,215C111.93,227.333,111.93,239.667,111.93,245.833L111.93,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_button_0" d="M294.763,178L307.153,184.167C319.542,190.333,344.322,202.667,356.712,215C369.102,227.333,369.102,239.667,369.102,245.833L369.102,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_login_0" d="M839.937,190L830.687,194.167C821.436,198.333,802.935,206.667,785.085,215C767.234,223.333,750.035,231.667,741.436,235.833L732.836,240"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_details_0" d="M932.617,190L933.268,194.167C933.919,198.333,935.221,206.667,935.872,217C936.523,227.333,936.523,239.667,936.523,245.833L936.523,252"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_event_login_0" d="M606.66,171L606.577,178.333C606.493,185.667,606.327,200.333,609.25,211.833C612.174,223.333,618.187,231.667,621.194,235.833L624.201,240"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(524.2265625, 35)" id="flowchart-app-0" class="node default checkedNode"><rect height="54" width="184.15625" y="-27" x="-92.078125" style="" class="basic label-container"></rect><g transform="translate(-62.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AppComponent</p></span></div></foreignObject></g></g><g transform="translate(240.515625, 151)" id="flowchart-header-1" class="node default checkedNode"><rect height="54" width="211.15625" y="-27" x="-105.578125" style="" class="basic label-container"></rect><g transform="translate(-75.578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HeaderComponent</p></span></div></foreignObject></g></g><g transform="translate(926.5234375, 151)" id="flowchart-main-3" class="node default checkedNode"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MainComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(111.9296875, 279)" id="flowchart-search-5" class="node default checkedNode"><rect height="54" width="207.859375" y="-27" x="-103.9296875" style="" class="basic label-container"></rect><g transform="translate(-73.9296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SearchComponent</p></span></div></foreignObject></g></g><g transform="translate(369.1015625, 279)" id="flowchart-button-7" class="node default checkedNode"><rect height="54" width="206.484375" y="-27" x="-103.2421875" style="" class="basic label-container"></rect><g transform="translate(-73.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ButtonComponent</p></span></div></foreignObject></g></g><g transform="translate(652.34375, 279)" id="flowchart-login-9" class="node default checkedNode"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LoginComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(936.5234375, 279)" id="flowchart-details-11" class="node default checkedNode"><rect height="54" width="208.359375" y="-27" x="-104.1796875" style="" class="basic label-container"></rect><g transform="translate(-74.1796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DetailsComponent</p></span></div></foreignObject></g></g><g transform="translate(606.16015625, 151)" id="flowchart-event-12" class="node default eventNode"><g transform="translate(4.875,0)" class="basic label-container"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-40.171875 -19.5 C-36.920076447359385 -12.996402894718766, -33.66827789471877 -6.492805789437535, -30.421875 0 C-32.80363177076244 4.763513541524886, -35.18538854152489 9.527027083049772, -40.171875 19.5 C-18.46415099274178 19.5, 3.2435730145164428 19.5, 30.421875 19.5 C30.421875 5.263683521539127, 30.421875 -8.972632956921746, 30.421875 -19.5 C9.146153766391624 -19.5, -12.129567467216752 -19.5, -40.171875 -19.5"></path><path style="" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-40.171875 -19.5 C-37.11755049202345 -13.391350984046898, -34.063225984046895 -7.2827019680937966, -30.421875 0 M-40.171875 -19.5 C-37.908036749281145 -14.972323498562297, -35.6441984985623 -10.444646997124591, -30.421875 0 M-30.421875 0 C-32.69964452845667 4.555539056913354, -34.977414056913354 9.111078113826707, -40.171875 19.5 M-30.421875 0 C-32.697551645447156 4.551353290894306, -34.973228290894305 9.102706581788611, -40.171875 19.5 M-40.171875 19.5 C-12.08637121998066 19.5, 15.999132560038682 19.5, 30.421875 19.5 M-40.171875 19.5 C-20.190828337940395 19.5, -0.20978167588079089 19.5, 30.421875 19.5 M30.421875 19.5 C30.421875 8.211495444553998, 30.421875 -3.0770091108920035, 30.421875 -19.5 M30.421875 19.5 C30.421875 6.007164592763013, 30.421875 -7.485670814473973, 30.421875 -19.5 M30.421875 -19.5 C15.831028634060003 -19.5, 1.2401822681200052 -19.5, -40.171875 -19.5 M30.421875 -19.5 C3.408635336705075 -19.5, -23.60460432658985 -19.5, -40.171875 -19.5"></path></g><g transform="translate(-18.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="45.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="new-inputs-to-component-with-onpush">
    <a href="#new-inputs-to-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to New inputs to component with OnPush">到具有 OnPush 的组件的新输入</a>
  </h2>
  <p>当设置作为模板绑定结果的输入属性时，Angular 将在具有 <code>OnPush</code> 的子组件中运行变更检测。</p>
<p>例如，在下图中，<code>AppComponent</code> 将新输入传递给具有 <code>OnPush</code> 的 <code>MainComponent</code>。Angular 将在 <code>MainComponent</code> 中运行变更检测，但不会在也具有 <code>OnPush</code> 的 <code>LoginComponent</code> 中运行变更检测，除非它也接收到新的输入。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1048.703125 335" style="max-width: 1048.703125px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_header_0" d="M432.148,57.837L400.21,64.198C368.271,70.558,304.393,83.279,272.454,95.806C240.516,108.333,240.516,120.667,240.516,126.833L240.516,133"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_app_main_0" d="M616.305,58.753L645.993,64.961C675.681,71.169,735.057,83.584,764.745,93.959C794.434,104.333,794.434,112.667,794.434,116.833L794.434,121"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_search_0" d="M186.268,187L173.879,193.167C161.489,199.333,136.709,211.667,124.319,224C111.93,236.333,111.93,248.667,111.93,254.833L111.93,261"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_header_button_0" d="M294.763,187L307.153,193.167C319.542,199.333,344.322,211.667,356.712,224C369.102,236.333,369.102,248.667,369.102,254.833L369.102,261"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_login_0" d="M707.848,199L698.597,203.167C689.346,207.333,670.845,215.667,661.594,224C652.344,232.333,652.344,240.667,652.344,244.833L652.344,249"></path><path style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_main_details_0" d="M881.02,199L890.27,203.167C899.521,207.333,918.022,215.667,927.273,226C936.523,236.333,936.523,248.667,936.523,254.833L936.523,261"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(524.2265625, 39.5)" id="flowchart-app-0" class="node default checkedNode"><rect height="54" width="184.15625" y="-27" x="-92.078125" style="" class="basic label-container"></rect><g transform="translate(-62.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AppComponent</p></span></div></foreignObject></g></g><g transform="translate(240.515625, 160)" id="flowchart-header-1" class="node default checkedNode"><rect height="54" width="211.15625" y="-27" x="-105.578125" style="" class="basic label-container"></rect><g transform="translate(-75.578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HeaderComponent</p></span></div></foreignObject></g></g><g transform="translate(794.43359375, 160)" id="flowchart-main-3" class="node default checkedNode"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MainComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(111.9296875, 288)" id="flowchart-search-5" class="node default checkedNode"><rect height="54" width="207.859375" y="-27" x="-103.9296875" style="" class="basic label-container"></rect><g transform="translate(-73.9296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SearchComponent</p></span></div></foreignObject></g></g><g transform="translate(369.1015625, 288)" id="flowchart-button-7" class="node default checkedNode"><rect height="54" width="206.484375" y="-27" x="-103.2421875" style="" class="basic label-container"></rect><g transform="translate(-73.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ButtonComponent</p></span></div></foreignObject></g></g><g transform="translate(652.34375, 288)" id="flowchart-login-9" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LoginComponent (OnPush)</p></span></div></foreignObject></g></g><g transform="translate(936.5234375, 288)" id="flowchart-details-11" class="node default checkedNode"><rect height="54" width="208.359375" y="-27" x="-104.1796875" style="" class="basic label-container"></rect><g transform="translate(-74.1796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="148.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DetailsComponent</p></span></div></foreignObject></g></g><g transform="translate(781.6796875, 39.5)" id="flowchart-event-12" class="node default eventNode"><g transform="translate(7.875,0)" class="basic label-container"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-123.25 -31.5 C-118.5082858643312 -22.01657172866239, -113.7665717286624 -12.533143457324783, -107.5 0 C-110.71389651993327 6.427793039866548, -113.92779303986654 12.855586079733095, -123.25 31.5 C-62.876452629676336 31.5, -2.502905259352673 31.5, 107.5 31.5 C107.5 13.237642654508786, 107.5 -5.024714690982428, 107.5 -31.5 C59.64153901890755 -31.5, 11.783078037815102 -31.5, -123.25 -31.5"></path><path style="" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-123.25 -31.5 C-117.23159937784246 -19.46319875568491, -111.21319875568491 -7.426397511369821, -107.5 0 M-123.25 -31.5 C-118.4954511407571 -21.990902281514185, -113.74090228151418 -12.48180456302837, -107.5 0 M-107.5 0 C-110.98871680426996 6.97743360853991, -114.47743360853991 13.95486721707982, -123.25 31.5 M-107.5 0 C-113.04261956371387 11.085239127427739, -118.58523912742774 22.170478254855478, -123.25 31.5 M-123.25 31.5 C-44.88305173479094 31.5, 33.48389653041812 31.5, 107.5 31.5 M-123.25 31.5 C-61.387419373105125 31.5, 0.47516125378975005 31.5, 107.5 31.5 M107.5 31.5 C107.5 6.483630568581173, 107.5 -18.532738862837654, 107.5 -31.5 M107.5 31.5 C107.5 10.981788860242546, 107.5 -9.536422279514909, 107.5 -31.5 M107.5 -31.5 C18.119770308764842 -31.5, -71.26045938247032 -31.5, -123.25 -31.5 M107.5 -31.5 C60.80445411455762 -31.5, 14.108908229115244 -31.5, -123.25 -31.5"></path></g><g transform="translate(-92.125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parent passes new input to MainComponent</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="edge-cases">
    <a href="#edge-cases" class="docs-anchor" tabindex="-1" aria-label="Link to Edge cases">边缘情况</a>
  </h2>
  
  <ul class="docs-list">
    <li><strong>在 TypeScript 代码中修改输入属性（Property）</strong>。当你使用 <code>@ViewChild</code> 或 <code>@ContentChild</code> 之类的 API 在 TypeScript 中获取对组件的引用并手动修改 <code>@Input</code> 属性（Property）时，Angular 不会自动为 OnPush 组件运行变更检测。如果需要 Angular 运行变更检测，你可以在组件中注入 <code>ChangeDetectorRef</code> 并调用 <code>changeDetectorRef.markForCheck()</code> 以告知 Angular 调度变更检测。</li>
<li><strong>修改对象引用</strong>。如果输入接收到一个可变对象作为值，并且你修改了该对象但保留了引用，则 Angular 不会调用变更检测。这是预期的行为，因为输入的先前值和当前值指向相同的引用。</li>

  </ul>
  
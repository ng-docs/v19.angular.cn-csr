<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1>指令</h1><div class="docs-api-item-label type-decorator full">decorator</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/core/src/metadata/directives.ts#L378-L384" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">代码</i></a></div><section class="docs-reference-description"><p>用来将某个类标记为 Angular 指令的装饰器。你可以定义自己的指令，以便将自定义行为附着到 DOM 中的元素。</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="docs-mini-scroll-track"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">  <code>
    <span class="line ">@<span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="selector"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="inputs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  inputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">alias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">required</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">transform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; })[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="outputs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="providers"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  providers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/Provider">Provider</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="exportAs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  exportAs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="queries"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  queries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="host"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="jit"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  jit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="standalone"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  standalone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="hostDirectives"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  hostDirectives</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Type">Type</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">directive</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/Type">Type</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">inputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; })[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span>
  </code>
  </pre></pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="selector" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>selector</h3><code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>用于在模板中识别此指令并触发指令实例化的 CSS 选择器。</p>
<p>声明为以下选项之一：</p>

    <ul class="docs-list">
      <li><code>element-name</code>：通过元素名称选择。</li>
<li><code>.class</code>：通过类名选择。</li>
<li><code>[attribute]</code>：通过属性名选择。</li>
<li><code>[attribute=value]</code>：通过属性名和值选择。</li>
<li><code>:not(sub_selector)</code>：仅当元素与 <code>sub_selector</code> 不匹配时选择。</li>
<li><code>selector1, selector2</code>：如果 <code>selector1</code> 或 <code>selector2</code> 匹配，则选择。</li>

    </ul>
    <p>Angular 只允许指令应用于不跨越元素边界的 CSS 选择器。</p>
<p>对于以下模板 HTML，带有 <code>input[type=text]</code> 选择器的指令将仅在 <code>&lt;input type="text"&gt;</code> 元素上实例化。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D"><a href="/api/core/input">input</a></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D"><a href="/api/core/input">input</a></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"radio"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
        </pre>
      </div></div></div></div></div><div id="inputs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>inputs</h3><code>(string | { name: string; alias?: string | undefined; required?: boolean | undefined; transform?: ((value: any) =&gt; any) | undefined; })[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>枚举指令的数据绑定输入属性集</p>
<p>Angular 在变更检测期间自动更新输入属性。<code>inputs</code> 属性接受字符串或对象字面量，它们配置应该作为输入公开的指令属性。</p>
<p>当传入对象字面量时，<code>name</code> 属性指示输入应该写入到类上的哪个属性，而 <code>alias</code> 确定输入在模板绑定中可用的名称。<code>required</code> 属性指示输入是必要的，如果在使用指令时未传入该输入，则会触发编译时错误。</p>
<p>当字符串传入 <code>inputs</code> 数组时，它可以具有 <code>'name'</code> 或 <code>'name: alias'</code> 的格式，其中 <code>name</code> 是指令应该写入的类上的属性，而 <code>alias</code> 确定输入在模板绑定中可用的名称。基于字符串的输入定义被假定为是可选的。</p></div></div></div></div><div id="outputs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>outputs</h3><code>string[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>枚举事件绑定输出属性的集合。</p>
<p>当输出属性发出事件时，将调用模板中附着到该事件的事件处理器。</p>
<p><code>outputs</code> 属性定义了一组 <code>directiveProperty</code> 到 <code>alias</code> 的配置：</p>

    <ul class="docs-list">
      <li><code>directiveProperty</code> 指定发出事件的组件属性。</li>
<li><code>alias</code> 指定事件处理器附着的 DOM 属性。</li>

    </ul></div></div></div></div><div id="providers" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>providers</h3><code><a href="/api/core/Provider">Provider</a>[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>使用映射到依赖提供者的令牌来配置此指令或组件的注入器。</p></div></div></div></div><div id="exportAs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>exportAs</h3><code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定义可在模板中用于将此指令赋值给变量的名称。</p></div></div></div></div><div id="queries" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>queries</h3><code>{ [key: string]: any; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置将注入到指令中的查询。</p>
<p>内容查询在 <code>ngAfterContentInit</code> 回调被调用之前设置。视图查询在 <code>ngAfterViewInit</code> 回调被调用之前设置。</p></div></div></div></div><div id="host" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>host</h3><code>{ [key: string]: string; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>使用一组键值对，将类 Property 映射到宿主元素的 Property、Attribute 和事件绑定。</p>
<p>在变更检测期间，Angular 会自动检查宿主 Property 绑定。如果绑定发生更改，Angular 会更新该指令的宿主元素。</p>
<p>当键是宿主元素的 Property 时，Property 值会传播到指定的 DOM 属性。</p>
<p>当键是 DOM 中的静态 Attribute 时，Attribute 值会传播到宿主元素中指定的 Property。</p>
<p>对于事件处理：</p>

    <ul class="docs-list">
      <li>键是指令所监听的 DOM 事件。要监听全局事件，请将目标添加到事件名称中。目标可以是 <code>window</code>、<code>document</code> 或 <code>body</code>。</li>
<li>该值是事件发生时要执行的语句。如果语句求值为 <code>false</code>，则会对 DOM 事件应用 <code>preventDefault</code>。处理函数方法可以引用 <code>$event</code> 局部变量。</li>

    </ul></div></div></div></div><div id="jit" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>jit</h3><code>true | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>如果存在，预先编译器将忽略此指令/组件。它会保留在已分发的代码中，即时编译器会尝试在运行时在浏览器中对其进行编译。为了确保行为正确，应用必须导入 <code>@angular/compiler</code>。</p></div></div></div></div><div id="standalone" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>standalone</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>标记为 <code>standalone</code> 的 Angular 指令不需要在 NgModule 中声明。此类指令不依赖 NgModule 的任何“中间上下文”（例如，配置的提供者）。</p>
<p>关于 standalone 组件、指令和管道的更多信息，请参见<a href="guide/components/importing">本指南</a>。</p></div></div></div></div><div id="hostDirectives" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>hostDirectives</h3><code>(<a href="/api/core/Type">Type</a>&lt;unknown&gt; | { directive: <a href="/api/core/Type">Type</a>&lt;unknown&gt;; inputs?: string[] | undefined; outputs?: string[] | undefined; })[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>每当指令匹配时，都应应用于宿主的独立指令。默认情况下，宿主指令的任何输入或输出在宿主上都不可用，除非它们在 <code>inputs</code> 或 <code>outputs</code> 属性中指定。</p>
<p>你还可以通过在原始输入或输出名称后加上冒号和别名来为输入和输出设置别名。例如，如果通过 <code>hostDirectives</code> 应用的指令定义了一个名为 <code>menuDisabled</code> 的输入，你可以通过将 <code>'menuDisabled: disabled'</code> 作为条目添加到 <code>inputs</code> 中，将其别名为 <code>disabled</code>。</p></div></div></div></div></div></div><div class="docs-reference-section"><h2 id="description" class="docs-reference-section-heading"><a href="#description" aria-label="Link to Description section" tabindex="-1">描述</a></h2><div><p>用来将某个类标记为 Angular 指令的装饰器。你可以定义自己的指令，以便将自定义行为附着到 DOM 中的元素。</p>
<p>这些选项提供了配置元数据，这些元数据决定了指令在运行时应如何处理、实例化和使用。</p>
<p>指令类（如组件类）可以实现<a href="guide/components/lifecycle">生命周期钩子</a>，以影响其配置和行为。</p></div></div><div class="docs-reference-section"><h2 id="usage-notes" class="docs-reference-section-heading"><a href="#usage-notes" aria-label="Link to Usage Notes section" tabindex="-1">使用须知</a></h2><div><p>要定义指令，请使用装饰器标记该类并提供元数据。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {Directive} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
        </pre>
      </div>
    
      <h3 id="declaring-directives" class="docs-reference-section-heading docs-reference-section-heading--sub">
        <a href="#declaring-directives" aria-label="Link to Declaring directives section" tabindex="-1">声明指令</a>
      </h3>
    <p>为了使指令可用于应用中的其他组件，你应该执行以下操作之一：</p>

    <ul class="docs-list">
      <li>或者将指令标记为 <a href="guide/components/importing">standalone</a>，</li>
<li>或者通过将其添加到 <code>declarations</code> 和 <code>exports</code> 字段中，在 NgModule 中声明它。</li>

    </ul>
    <p>** 将指令标记为 standalone **</p>
<p>你可以将 <code>standalone: true</code> 标志添加到 Directive 装饰器元数据，以将其声明为 <a href="guide/components/importing">standalone</a>：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  standalone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
        </pre>
      </div>
    <p>将指令标记为 standalone 时，请确保该指令尚未在 NgModule 中声明。</p>
<p>** 在 NgModule 中声明指令 **</p>
<p>另一种方法是在 NgModule 中声明指令：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/NgModule">NgModule</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  declarations: [MyDirective, SomeComponent],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  exports: [MyDirective], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// making it available outside of this module</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SomeNgModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
        </pre>
      </div>
    <p>在 NgModule 中声明指令时，请确保：</p>

    <ul class="docs-list">
      <li>该指令恰好在一个 NgModule 中声明。</li>
<li>该指令不是 standalone 的。</li>
<li>你不要重新声明从另一个模块导入的指令。</li>
<li>如果要使此指令可供 NgModule 外部的组件访问，则该指令也包含在 <code>exports</code> 字段中。</li>

    </ul>
    </div></div></div>